# Spring
SPRING_SERVLET_MULTIPART_MAX_FILE_SIZE=10MB
SPRING_SERVLET_MULTIPART_MAX_REQUEST_SIZE=10MB
SPRING_PROFILES_ACTIVE=identity,operate,tasklist,broker,consolidated-auth
SERVER_FORWARD_HEADERS_STRATEGY=none

# OpenSearch setup
CAMUNDA_OPERATE_DATABASE="opensearch"
CAMUNDA_TASKLIST_DATABASE="opensearch"
CAMUNDA_DATABASE_TYPE="opensearch"
CAMUNDA_DATABASE_CLUSTERNAME="opensearch"

# Camunda Exporter
ZEEBE_BROKER_EXPORTERS_CAMUNDAEXPORTER_CLASSNAME="io.camunda.exporter.CamundaExporter"
ZEEBE_BROKER_EXPORTERS_CAMUNDAEXPORTER_ARGS_CONNECT_TYPE="opensearch"
ZEEBE_BROKER_EXPORTERS_CAMUNDAEXPORTER_ARGS_CONNECT_CREATESCHEMA="true"
ZEEBE_BROKER_EXPORTERS_CAMUNDAEXPORTER_ARGS_CONNECT_CLUSTERNAME="opensearch"
ZEEBE_BROKER_EXPORTERS_CAMUNDAEXPORTER_ARGS_CREATESCHEMA="true"
# TODO: No idea yet, just taken from Helm Chart
ZEEBE_BROKER_EXPORTERS_CAMUNDAEXPORTER_ARGS_HISTORY_ELSROLLOVERDATEFORMAT=date
ZEEBE_BROKER_EXPORTERS_CAMUNDAEXPORTER_ARGS_HISTORY_ROLLOVERINTERVAL=1d
ZEEBE_BROKER_EXPORTERS_CAMUNDAEXPORTER_ARGS_HISTORY_ROLLOVERBATCHSIZE=100
ZEEBE_BROKER_EXPORTERS_CAMUNDAEXPORTER_ARGS_HISTORY_WAITPERIODBEFOREARCHIVING=1h
ZEEBE_BROKER_EXPORTERS_CAMUNDAEXPORTER_ARGS_HISTORY_DELAYBETWEENRUNS=2000
ZEEBE_BROKER_EXPORTERS_CAMUNDAEXPORTER_ARGS_HISTORY_MAXDELAYBETWEENRUNS=60000

# REST Alpha API
CAMUNDA_REST_QUERY_ENABLED=true

# Sessions
CAMUNDA_PERSISTENT_SESSIONS_ENABLED=true
# TODO: can't find it in the docs and why just Operate
CAMUNDA_OPERATE_PERSISTENTSESSIONSENABLED=true

# Temporary Workaround for Connectors
# TODO: Remove when fixed upsteam or when switching to Identity - related https://github.com/camunda/team-infrastructure-experience/issues/438
CAMUNDA_OPERATE_CSRFPREVENTIONENABLED="false"

JAVA_TOOL_OPTIONS="-XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/opt/camunda/camunda/logs -XX:ErrorFile=/opt/camunda/camunda/logs/zeebe_error%p.log -XX:+ExitOnOutOfMemoryError"

# Zeebe
ZEEBE_BROKER_DATA_SNAPSHOTPERIOD=5m
ZEEBE_BROKER_DATA_DISK_FREESPACE_PROCESSING=3GB
ZEEBE_BROKER_DATA_DISK_FREESPACE_REPLICATION=2GB

ZEEBE_BROKER_THREADS_CPUTHREADCOUNT=3
ZEEBE_BROKER_THREADS_IOTHREADCOUNT=3

# Embedded Identity
CAMUNDA_SECURITY_AUTHENTICATION_METHOD=basic
CAMUNDA_SECURITY_AUTHENTICATION_UNPROTECTEDAPI=false
CAMUNDA_SECURITY_AUTHORIZATIONS_ENABLED=true
CAMUNDA_SECURITY_INITIALIZATION_USERS_0_USERNAME=demo
CAMUNDA_SECURITY_INITIALIZATION_USERS_0_PASSWORD=demo
CAMUNDA_SECURITY_INITIALIZATION_USERS_0_NAME=Demo User
CAMUNDA_SECURITY_INITIALIZATION_USERS_0_EMAIL=demo@demo.com
CAMUNDA_SECURITY_INITIALIZATION_DEFAULTROLES_ADMIN_USERS_0=demo
CAMUNDA_SECURITY_MULTITENANCY_ENABLED=false
