---
# Backup PVC for Elasticsearch Migration
# Usage: export NAMESPACE=camunda BACKUP_PVC=migration-backup STORAGE_CLASS=default STORAGE_SIZE=50Gi
#        envsubst < backup-pvc.yml | kubectl apply -f -
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
    name: ${BACKUP_PVC}
    namespace: ${NAMESPACE}
    labels:
        app: orchestration-migration
        migration.camunda.io/type: backup
spec:
    accessModes:
        - ReadWriteOnce
    resources:
        requests:
            storage: ${STORAGE_SIZE}
    storageClassName: ${STORAGE_CLASS}
